{
  "module": "File Management",
  "component": "FileController",
  "testLevel": "Integration Test",
  "totalTestCases": 14,
  "testCases": [
    {
      "id": "TC-FC-001",
      "title": "POST /api/v1/files/upload - Upload Multiple Files",
      "category": "File Upload Tests",
      "given": "two valid files (CSV and XLSX)",
      "when": "POST /api/v1/files/upload is called with both files",
      "then": "HTTP 201 is returned and response contains two file IDs and each file is stored with UPLOADED status"
    },
    {
      "id": "TC-FC-002",
      "title": "POST /api/v1/files/upload/single - Upload Single CSV File",
      "category": "File Upload Tests",
      "given": "a valid CSV file",
      "when": "POST /api/v1/files/upload/single is called with the CSV file",
      "then": "HTTP 201 is returned and response includes file ID"
    },
    {
      "id": "TC-FC-003",
      "title": "POST /api/v1/files/upload/single - Upload Excel File",
      "category": "File Upload Tests",
      "given": "a valid Excel file",
      "when": "POST /api/v1/files/upload/single is called with the Excel file",
      "then": "HTTP 201 is returned and response includes file ID"
    },
    {
      "id": "TC-FC-004",
      "title": "POST /api/v1/files/upload - Reject Invalid File Type",
      "category": "File Upload Tests",
      "given": "a PDF file",
      "when": "POST /api/v1/files/upload is called",
      "then": "HTTP 400 is returned and error indicates unsupported file type"
    },
    {
      "id": "TC-FC-005",
      "title": "GET /api/v1/files/{id} - Retrieve File Details",
      "category": "File Retrieval Tests",
      "given": "an existing file ID",
      "when": "GET /api/v1/files/{id} is called",
      "then": "HTTP 200 is returned and file details are included"
    },
    {
      "id": "TC-FC-006",
      "title": "GET /api/v1/files/{id} - File Not Found",
      "category": "File Retrieval Tests",
      "given": "a non-existent file ID",
      "when": "GET /api/v1/files/{id} is called",
      "then": "HTTP 404 is returned"
    },
    {
      "id": "TC-FC-007",
      "title": "GET /api/v1/files/{id}/preview - Get File Preview",
      "category": "Preview Tests",
      "given": "a processed file",
      "when": "GET /api/v1/files/{id}/preview is called",
      "then": "HTTP 200 is returned with preview rows"
    },
    {
      "id": "TC-FC-008",
      "title": "GET /api/v1/files/{id}/schema - Get Detected Schema",
      "category": "Schema Tests",
      "given": "a processed file",
      "when": "GET /api/v1/files/{id}/schema is called",
      "then": "HTTP 200 is returned with schema"
    },
    {
      "id": "TC-FC-009",
      "title": "GET /api/v1/files - List All Files for Organization",
      "category": "File Listing Tests",
      "given": "an organization with uploaded files",
      "when": "GET /api/v1/files is called",
      "then": "HTTP 200 is returned with files list"
    },
    {
      "id": "TC-FC-010",
      "title": "DELETE /api/v1/files/{id} - Delete File",
      "category": "File Deletion Tests",
      "given": "an existing file ID",
      "when": "DELETE /api/v1/files/{id} is called",
      "then": "HTTP 204 is returned"
    },
    {
      "id": "TC-FC-011",
      "title": "POST /api/v1/files/upload - Reject Oversized File",
      "category": "File Upload Tests",
      "given": "a file larger than 100MB",
      "when": "POST /api/v1/files/upload is called",
      "then": "HTTP 413 is returned and error message indicates max upload size"
    },
    {
      "id": "TC-FC-012",
      "title": "GET /api/v1/files/{id}/preview - Custom Row Count",
      "category": "Preview Tests",
      "given": "a processed file with 500 rows",
      "when": "GET /api/v1/files/{id}/preview?rows=200 is called",
      "then": "200 rows are returned"
    },
    {
      "id": "TC-FC-013",
      "title": "GET /api/v1/files/{id}/schema - Includes Analytics",
      "category": "Schema Tests",
      "given": "a processed file with schema analytics",
      "when": "GET /api/v1/files/{id}/schema is called",
      "then": "columns include nullCount, uniqueCount, sampleValues"
    },
    {
      "id": "TC-FC-014",
      "title": "POST /api/v1/files/upload/single - Reject Missing File",
      "category": "File Upload Tests",
      "given": "a request without a file part",
      "when": "POST /api/v1/files/upload/single is called",
      "then": "HTTP 400 is returned and validation error indicates file is required"
    }
  ]
}
